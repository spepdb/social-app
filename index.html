<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Your uncensored social media platform with full freedom of speech.">
    <meta name="theme-color" content="#000000">
    <link rel="manifest" href="/manifest.json">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/feed-styles.css">
    <link rel="stylesheet" href="/css/sidebar-styles.css">
    <title>Home - Your Social Platform</title>
</head>
<body>
    <!-- Persistent Top-Left Profile Section -->
    <header>
        <div class="profile-menu-trigger" role="button" aria-label="Open profile menu">
            <img src="/assets/images/default-profile.png" alt="User Profile Picture" class="profile-pic">
        </div>
        <!-- Sidebar Menu (Hidden by default, shown via JS) -->
        <nav class="sidebar-menu" aria-hidden="true">
            <ul>
                <li><a href="/profile.html?user=@currentuser" aria-label="View Profile">Profile</a></li>
                <li>
                    <a href="#" id="feed-toggle" aria-label="Switch Feed View">Feeds</a>
                    <span class="feed-toggle-options" aria-hidden="true">
                        <button data-feed="for-you" aria-label="Show For You Feed">For You</button>
                        <button data-feed="following" aria-label="Show Following Feed">Following</button>
                    </span>
                </li>
                <li><a href="/profile.html?user=@currentuser#saved-posts" aria-label="View Saved Posts">Saved Posts</a></li>
                <li><a href="/profile.html?user=@currentuser#blocks" aria-label="View Blocked Users">Blocks</a></li>
                <li><a href="/profile.html?user=@currentuser#mutes" aria-label="View Muted Users">Mutes</a></li>
                <li><a href="/profile.html?user=@currentuser#preferences" aria-label="Open Preferences">Preferences</a></li>
                <li><a href="/help.html" aria-label="Visit Help Center">Help Center</a></li>
                <li><a href="/profile.html?user=@currentuser#manage-accounts" aria-label="Manage Accounts">Manage Accounts</a></li>
                <li><a href="#" id="delete-account" aria-label="Delete Account">Delete Account</a></li>
                <li><a href="#" id="logout" aria-label="Log Out">Logout</a></li>
            </ul>
        </nav>
    </header>

    <!-- Main Content Area -->
    <main>
        <!-- Stories Section (Ephemeral 24-hour posts) -->
        <section class="stories" aria-label="Stories">
            <!-- Dynamic stories loaded via JS -->
            <div class="story-placeholder" role="img" aria-label="Story placeholder">Stories</div>
        </section>

        <!-- Feed Container -->
        <section class="feed" aria-label="Main Feed">
            <!-- Post Creation Button -->
            <button class="create-post-btn" aria-label="Create a new post">+ New Post</button>

            <!-- Sample Post (Dynamic content via JS) -->
            <article class="post" aria-labelledby="post-1">
                <div class="post-header">
                    <img src="/assets/images/default-profile.png" alt="User Profile" class="post-profile-pic">
                    <div>
                        <span class="post-display-name">John Doe üê±</span>
                        <span class="post-username">@johndoe</span>
                    </div>
                </div>
                <div class="post-content" id="post-1">
                    <p>Check out this amazing view! #Nature #Travel</p>
                    <video controls poster="/assets/images/placeholder-video.jpg">
                        <source src="/assets/videos/sample.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </div>
                <div class="post-actions">
                    <button aria-label="Like (0)">‚ù§Ô∏è 0</button>
                    <button aria-label="Comment">üí¨</button>
                    <button aria-label="Repost">üîÑ</button>
                    <button aria-label="Save">üîñ</button>
                    <button aria-label="Share">‚ÜóÔ∏è</button>
                </div>
            </article>

            <!-- More posts will be loaded via infinite scroll -->
            <div class="loading-indicator" aria-live="polite">Loading more posts...</div>
        </section>

        <!-- Trending Sidebar -->
        <aside class="trending-sidebar" aria-label="Trending Topics">
            <h2>Trending</h2>
            <!-- Dynamic trending hashtags loaded via JS -->
            <div class="trending-item" role="link" aria-label="Trending hashtag placeholder">#Trend1 (1k posts)</div>
        </aside>
    </main>

    <!-- Bottom Navigation Taskbar -->
    <footer class="nav-taskbar">
        <a href="/index.html" aria-label="Home"><img src="/assets/icons/home.svg" alt="Home"></a>
        <a href="/search.html" aria-label="Search"><img src="/assets/icons/search.svg" alt="Search"></a>
        <a href="/notifications.html" aria-label="Notifications"><img src="/assets/icons/notifications.svg" alt="Notifications"></a>
        <a href="/dms.html" aria-label="Messages"><img src="/assets/icons/dms.svg" alt="Messages"></a>
    </footer>

    <!-- JavaScript Links -->
    <script src="/js/scripts.js"></script>
    <script src="/js/feed.js"></script>
    <script src="/js/websocket.js"></script>
    <script src="/js/pwa.js"></script>
    <script src="/js/analytics.js"></script>

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/service-worker.js')
                .then(() => console.log('Service Worker registered'))
                .catch(err => console.error('Service Worker registration failed:', err));
        }
    </script>
</body>
</html>